{% extends "base_site.html" %}

{% block title %} GIS Data Layer {% endblock title %}

{% block stylesheets %}
    {{ super() }}
    <link href="{{ url_for('static', filename='vendors/bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.css') }}"
          rel="stylesheet">

{% endblock stylesheets %}

{% block content %}
    <div class="right_col" role="main">
        <div class="">
            <div class="page-title">
                <div class="title_left">
                    <h3>Training Data Inspection</h3>
                </div>
            </div>

            <div class="row">
                <div class="col-md-12 col-sm-12 col-xs-12">
                    <!-- For Traing Data Visualization -->
                    <div class="x_panel" id = 'vis'>
                        <div class = "vis_option" id = "vis_opts">
                            <select class = "attr">
                                <!--
                                    <option value="age">age</option>
                                    <option value="sex">sex</option>
                                -->
                                    <option value="CPT">chest pain type</option>
                                    <option value="RBP">resting blood pressure</option>
                                    <option value="SC">serum cholestoral in mg/dl</option>
                                    <option value="FBS">fasting blood sugar > 120 mg/dl</option>
                                    <option value="RER">resting electrocardiographic results</option>
                                    <option value="MHRA">maximum heart rate achieved</option>
                                    <option value="EIA">exercise induced angina</option>
                                    <option value="oldpeak">oldpeak</option>
                                    <option value="SOTPESTS">the slope of the peak exercise ST segment</option>
                                    <option value="NOMV">number of major vessels (0-3) colored by flourosopy</option>
                                    <option value="thal">thal</option>
                                    <option value="target">target</option>
                            </select>
                            <button type="button" id = "show_fig">Visualization</button>
                        </div>
                        <div class = "vis_display" id = "vis_dis" style="width: 600px;height:400px;">

                        </div>> 
                        <!--TODO-->
                    </div>
                    <!--/ For Traing Data Visualization -->
                </div>
            </div>
        </div>
    </div>
{% endblock content %}

{% block javascripts %}
    {{ super() }}
    <!-- bootstrap datetime picker -->
    <script src="{{ url_for('static', filename='vendors/bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js') }}"></script>
    <!-- bootbox -->
    <script src="{{ url_for('static', filename='vendors/bootbox.js/bootbox.min.js') }}"></script>
    <!-- loading overlay -->
    <script src="{{ url_for('static', filename='vendors/loadingoverlay/loadingoverlay.min.js') }}"></script>
    <!-- echarts4 -->
    <script src="{{ url_for('static', filename='vendors/echarts4/echarts.min.js') }}"></script>

    <script>


$('#show_fig').on('click', function () {
    var attr = $(".attr option:selected").val()
    if(attr == "CPT"){
        show_figure1();
    }else if(attr == "RBP"){
        show_figure2();
    }else if(attr == "SC"){
        show_figure2();
    }else if(attr == "FBS"){
        show_figure1();
    }else if(attr == "RER"){
        show_figure1();
    }else if(attr == "MHRA"){
        show_figure1();
    }else if(attr == "EIA"){
        show_figure1();
    }else if(attr == "oldpeak"){
        show_figure1();
    }else if(attr == "SOTPESTS"){
        show_figure1();
    }else if(attr == "NOMV"){
        show_figure1();
    }else if(attr == "thal"){
        show_figure1();
    }else if(attr == "target"){
        show_figure1();
    }
    else{
        alert("Error")
    }
  })



function show_figure1() {

    var myChart = echarts.init(document.getElementById('vis_dis'));
        var option = {
            title: {
                text: 'ECharts 入门示例'
            },
            tooltip: {},
            legend: {
                data:['销量']
            },
            xAxis: {
                data: ["衬衫","羊毛衫","雪纺衫","裤子","高跟鞋","袜子"]
            },
            yAxis: {},
            series: [{
                name: '销量',
                type: 'bar',
                data: [5, 5, 5, 5, 5, 5]
            }]
        };

        myChart.setOption(option, true);

}


function show_figure2() {

var myChart = echarts.init(document.getElementById('vis_dis'));
    var option = {
        angleAxis: {
            type: 'category',
            data: ['0-10', '11-20', '21-30', '31-40', '41-50', '51-60', '61-70', '71-80','81-90','91-100'],
            z: 7
        },
        radiusAxis: {
        },
        polar: {
        },
        series: [{
            type: 'bar',
            data: [2,1,1,1,1,1,1,1,1,0],
            coordinateSystem: 'polar',
            name: 'A',
            stack: 'a'
        }, {
            type: 'bar',
            data: [1,1,1,1,1,1,1,1,1,1],
            coordinateSystem: 'polar',
            name: 'B',
            stack: 'b'
        }],
        legend: {
            show: true,
            data: ['male', 'falme']
        }
    };
    myChart.setOption(option, true);

}


    </script>


{% endblock javascripts %}


